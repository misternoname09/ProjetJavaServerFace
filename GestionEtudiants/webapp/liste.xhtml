<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
	 
	
	<f:metadata>
	    <f:event listener="#{etudiantBean.chargerListeEtudiant}" type="preRenderView"></f:event>
	</f:metadata>
		
<h:head>
   <title>Liste des Etudiants</title>
</h:head>
<h:body>
   <p:accordionPanel>
       <p:tab title="Liste étudiants">
           <f:view>
              <h:form>
                <h:outputText value="Liste étudiants"></h:outputText>
                  <h.form> 
                  <p:dataTable value="#{etudiantBean.listeEtudiant}" var="e"
                   style="margin:auto; text-align:left">
                     <p:column>
                       <f:facet name="header">ID</f:facet>
                       #{et.id}
                     </p:column>
                      <p:column>
                       <f:facet name="header">Nom</f:facet>
                       #{et.nom}
                     </p:column>
                      <p:column>
                       <f:facet name="header">Prénom</f:facet>
                       #{et.prenom}
                     </p:column>
                      <p:column>
                       <f:facet name="header">Date de Naissance</f:facet>
                       #{et.dateNais}
                     </p:column>
                      <p:column>
                      <f:facet name="header">Modifier</f:facet>
                       <h:commandLink value="modifier" action="#{etudiantBean.updateEtudiant(e.id)}"/>
                     </p:column>
                     
                       <p:column>
                       <f:facet name="header">Supprimer</f:facet>
                       <h:commandButton value="Supprimer" 
                                      onclick=" if(! confirm('voulez-vous supprimer l'etudiant')) return false;"
                                      action="#{etudiantBean.deleteEtudiant(e.id)}"/>
                     </p:column>
                  </p:dataTable>
                  </h.form>
              </h:form>
           </f:view>
       </p:tab>
</p:accordionPanel>
   
    <h1>Créer/Editer un Etudiant</h1>
     <p:panelGrid columns="3">
                 <p:outputLabel value="Nom: "/>
                 <p:inputText value="#{etudiantBean.etudiant.nom}" a:placeholder="votre nom" />
                 <br/>
                 <p:outputLabel value="Prénom: "/>
                 <p:inputText value="#{etudiantBean.etudiant.prenom}" a:placeholder="votre prénom" />
                 <br/>
                 <p:outputLabel value="Date de Naissance: "/>
                 <p:calendar value="#{etudiantBean.etudiant.datenaiss}" a:placeholder="votre date de naissance"/>
                 <br/>
                 <h:commandButton value="Enregistrer" action="#{etudiantBean.addEtudiant(etudiantBean.etudiant)}" />
                 <br/>
     </p:panelGrid>
    </h:body>

</html>
